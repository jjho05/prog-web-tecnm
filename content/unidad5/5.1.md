# 5.1 Conceptos Generales

La nube no es "computadoras en el cielo".
**La nube es la computadora de alguien m치s**, alquilada por milisegundos.

---

## 쯈u칠 es la Nube? (Definici칩n NIST)
El NIST lo define con 5 caracter칤sticas clave:

1.  **Autoservicio Bajo Demanda:** Das un click y tienes un servidor en segundos. Sin llamar a soporte.
2.  **Acceso Ubicuo:** Accesible desde cualquier lugar con Internet (Laptop, M칩vil).
3.  **Multitenancy (Recursos Compartidos):** El mismo hardware f칤sico atiende a muchos clientes a la vez, totalmente aislados.
4.  **Elasticidad R치pida:** Creces de 1 a 1,000 servidores en el Black Friday y bajas a 1 el lunes.
5.  **Pago por Uso:** Como la luz. Pagas por lo que consumes (CPU/hora, GBs).

---

## Evoluci칩n del Hosting

쮺칩mo llegamos aqu칤?

### On-Premises (The 90s)
*   Comprabas servidores f칤sicos (Dell/HP).
*   Los instalabas en tu oficina (con aire acondicionado).
*   **CapEx (Capital Expenditure):** Gasto inicial gigante.
*   **Problema:** Si crec칤as, tardabas 3 meses en comprar otro server.

### Virtualizaci칩n (The 2000s)
*   VMware / Hyper-V.
*   Un servidor f칤sico grande se divide en 20 m치quinas virtuales (VMs).
*   Mejor uso de recursos, pero sigues administrando el Hardware.

### Cloud Computing (The 2010s)
*   AWS, Azure, GCP.
*   API-Driven Infrastructure.
*   **OpEx (Operational Expenditure):** Gasto mensual variable. Cero inversi칩n inicial.

---

## Modelos de Servicio (La Pir치mide)

### IaaS (Infrastructure as a Service)
Te dan el hardware virtual. T칰 pones el resto.
*   **Ejemplos:** AWS EC2, DigitalOcean.
*   **Tu responsabilidad:** SO, Parches, C칩digo, Bases de Datos.

### PaaS (Platform as a Service)
Te dan el entorno listo. T칰 solo traes tu c칩digo.
*   **Ejemplos:** Heroku, Vercel, Google App Engine.
*   **Tu responsabilidad:** Solo tu C칩digo y Datos.

### SaaS (Software as a Service)
Te dan el software listo para usar.
*   **Ejemplos:** Gmail, Dropbox, Figma.
*   **Tu responsabilidad:** Solo usarlo (y configurarlo).

---

---

## Modelos de Despliegue (쮻e qui칠n es la nube?)

No todas las nubes son p칰blicas.

### Nube P칰blica (AWS, Azure)
*   **Due침o:** Amazon/Microsoft.
*   **Acceso:** Cualquiera con tarjeta de cr칠dito.
*   **Pros:** Escalabilidad infinita, costo bajo (econom칤a de escala).
*   **Contras:** Vecinos ruidosos, soberan칤a de datos (쯗칩nde est치n mis datos?).

### Nube Privada (OpenStack, VMware)
*   **Due침o:** T칰 (Tu datacenter).
*   **Acceso:** Solo tu empresa.
*   **Pros:** Control total, seguridad m치xima.
*   **Contras:** Costo alt칤simo (tienes que comprar el hardware y pagar la luz).

### Nube H칤brida (Lo mejor de ambos mundos)
*   Cargas cr칤ticas (DB Bancaria) en **Privada**.
*   Cargas variables (Web Frontend) en **P칰blica**.
*   **Conexi칩n:** VPN o Fibra dedicada (AWS Direct Connect).

### Multi-Cloud (El anti-monopolio)
*   Usar AWS para Storage y GCP para AI.
*   **Pro:** No te casas con un vendor (Vendor Lock-in).
*   **Contra:** Complejidad de gesti칩n brutal.

---

## Econom칤a de la Nube (FinOps)

La nube puede ser m치s cara que on-premise si lo haces mal.

### CapEx vs OpEx
*   **CapEx:** Comprar un servidor de $10,000 USD (Activo depreciable). Rigidez.
*   **OpEx:** Pagar $200 USD/mes. Flexibilidad deducible de impuestos.

### TCO (Total Cost of Ownership)
Un servidor propio no solo cuesta el hardware. Cuesta:
*   Electricidad (Cooling es 40% de la energ칤a).
*   Espacio f칤sico (Renta por m2).
*   Salario de SysAdmins (24/7).
*   Licencias de Software.
En la nube, todo eso est치 incluido en el precio/hora.

---

## Regiones y Zonas de Disponibilidad
*   **Regi칩n:** 츼rea geogr치fica f칤sica (ej. `us-east-1` en Virginia). Totalmente independiente.
*   **Zona de Disponibilidad (AZ):** Datacenters *dentro* de una regi칩n (<100km). Conectadas por fibra de baja latencia.
    *   **Regla:** Si tu app est치 en una sola AZ, **no tienes Alta Disponibilidad**.

## Edge Computing
Lleva el c칩mputo cerca del usuario (<5ms).
*   **CDN:** Cachea contenido est치tico cerca del cliente.
*   **Edge Functions:** Corre c칩digo (Auth, Redirecciones) en la CDN antes de tocar tu servidor.

---

## Green Cloud Computing (Sostenibilidad)

El "Nube" suena et칠reo, pero consume el 3% de la electricidad mundial.

### PUE (Power Usage Effectiveness)
M칠trica de eficiencia. `PUE = Energ칤a Total / Energ칤a IT`.
*   **PUE 1.0:** Perfecto (Toda la energ칤a va a los servers).
*   **PUE 2.0:** Malo (Gastas lo mismo en aire acondicionado que en servers).
*   Las nubes p칰blicas tienen PUE ~1.1 (mucho mejor que el 1.7 de un datacenter corporativo).

### Carbon Footprint
Las regiones suelen reportar su "intensidad de carbono".
Escoger `eu-north-1` (Suecia, Hydroel칠ctrica) es 10x m치s verde que `us-east-1` (Carb칩n/Gas).

---

## Cloud Native (Definici칩n CNCF)

No basta con mover tu .exe a la nube ("Lift and Shift").
Cloud Native son apps dise침adas para sobrevivir en la nube.

*   **Contenerizadas (Docker):** Empaquetadas con sus dependencias.
*   **Orquestadas din치micamente (K8s):** Gesti칩n autom치tica.
*   **Microservicios:** Desacopladas.

> **游눹 C칩digo en Acci칩n:**
> Para ser Cloud Native, necesitas Docker. Aqu칤 tienes la "receta" (Dockerfile) para empaquetar tu servidor Node.js.
>
> 游늯 **Ver c칩digo:** [Dockerfile](codigos/Dockerfile)

---

---

## Estrategias de Migraci칩n (Las 6 Rs)

Cuando mueves tu empresa a la nube, tienes 6 caminos:

1.  **Rehost (Lift & Shift):** Copiar la VM y pegarla en AWS. R치pido, pero no aprovechas la nube (mismos bugs, mismo costo).
2.  **Replatform (Lift, Tinker & Shift):** Cambiar la DB Oracle por Amazon RDS. Peque침os cambios para beneficios r치pidos (backups autom치ticos).
3.  **Refactor (Re-architect):** Reescribir el monolito a Microservicios Serverless. Caro al inicio, m치s barato a largo plazo.
4.  **Repurchase (Drop & Shop):** Tirar tu CRM viejo y contratar Salesforce (SaaS).
5.  **Retire:** Apagar servidores que nadie usa (descubres muchos).
6.  **Retain:** No migrar (Mainframes, regulaciones legales).

---

---

## Comparativa: On-Prem vs IaaS vs PaaS vs SaaS

| Caracter칤stica | On-Premises | IaaS (AWS EC2) | PaaS (Heroku) | SaaS (Gmail) |
| :--- | :--- | :--- | :--- | :--- |
| **Datacenter** | T칰 | Vendor | Vendor | Vendor |
| **Red/Storage** | T칰 | Vendor | Vendor | Vendor |
| **Servidores** | T칰 | Vendor | Vendor | Vendor |
| **Virtualizaci칩n**| T칰 | Vendor | Vendor | Vendor |
| **Sist. Operativo**| T칰 | T칰 | Vendor | Vendor |
| **Runtime/Datos** | T칰 | T칰 | T칰 | Vendor |
| **Aplicaci칩n** | T칰 | T칰 | T칰 | Vendor |

*   **Azul:** T칰 administras.
*   **Gris:** Vendor administra.

---

## Historia Breve (Timeline)

*   **1960s:** John McCarthy sugiere que "la computaci칩n podr칤a ser un servicio p칰blico".
*   **1999:** Salesforce introduce el concepto SaaS (Software via Web).
*   **2006:** Amazon lanza AWS (EC2 y S3). Nace la nube moderna.
*   **2008:** Google lanza App Engine (PaaS) y NASA lanza OpenNebula.
*   **2010:** Microsoft lanza Azure ("Windows Azure").
*   **2013:** Docker revoluciona la portabilidad.
*   **2014:** Google lanza Kubernetes (Borg open-source).
*   **2015:** CNCF (Cloud Native Computing Foundation).

---

## Mitos de la Nube

1.  **"La nube es siempre m치s barata"**: FALSO. Si migras mal (Lift & Shift), suele ser m치s cara. Requiere optimizaci칩n.
2.  **"La nube es insegura"**: FALSO. AWS tiene m치s certificaciones de seguridad que tu datacenter local. El problema suele ser la mala configuraci칩n del usuario (S3 bucket p칰blico).
3.  **"La nube elimina a los SysAdmins"**: FALSO. Ahora son DevOps o SREs. Cambian los cables por c칩digo (Terraform).

---

---

## Vendor Lock-in (El Matrimonio Forzoso)

Es f치cil entrar a AWS, pero dif칤cil salir.
Si usas **DynamoDB** (Proprietario), migrar a Azure CosmosDB implica reescribir tu app y migrar datos.
*   **Mitigaci칩n:** Usar est치ndares abiertos (Postgres, Docker, Kubernetes) en lugar de servicios propietarios cuando sea posible.
*   **Trade-off:** Los servicios propietarios suelen ser m치s f치ciles y potentes.

---

## Auditor칤a y Cumplimiento (Compliance)

Si guardas datos m칠dicos (HIPAA) o tarjetas (PCI-DSS), la nube te ayuda.
*   **Responsabilidad Compartida:** AWS asegura el edificio y el servidor f칤sico. T칔 aseguras el sistema operativo y los datos.
*   **Servicios:** AWS Artifact / Azure Policy te permiten descargar certificados de auditor칤a para tus auditores legales.

---

## Glosario R치pido

*   **SLA (Service Level Agreement):** Promesa de uptime (99.9% = ~43 min ca칤dos al mes).
*   **Latency:** Tiempo que tarda un paquete en ir y volver.
*   **Throughput:** Cantidad de datos que pasan por seg.
*   **IOPS:** Operaciones de entrada/salida por segundo (velocidad de disco).

---

---

## Serverless Revolution (FaaS)

Olvida los servidores. Sube funciones.
**FaaS (Function as a Service):** AWS Lambda.
1.  Subes un `.zip` con tu c칩digo JS.
2.  Configuras un "Trigger" (HTTP Request, subida de foto a S3).
3.  Cuando ocurre el evento, AWS despierta tu funci칩n, la ejecuta y la mata.
4.  Pagas por los 300ms que dur칩 viva.

---

## Elasticidad vs Escalabilidad

*   **Escalabilidad:** Capacidad de crecer (Agregar RAM o m치s servers).
*   **Elasticidad:** Capacidad de crecer Y ENCOGER autom치ticamente seg칰n la demanda.
    *   La nube es el치stica. Tu datacenter puede ser escalable, pero rara vez es el치stico (no "devuelves" el server comprado en la noche).

---

## Desaf칤os Culturales

La nube no es t칠cnica, es cultural.
*   **DevOps:** Developers y Ops deben hablar.
*   **Agile:** Despliegues diarios, no mensuales.
*   **Fail Fast:** Experimentar barato y fallar r치pido.

---

---

## Profundizando en Virtualizaci칩n (El Motor)

쮺칩mo una m치quina f칤sica corre 50 sistemas operativos? El **Hipervisor**.

### Hipervisor Tipo 1 (Bare Metal)
*   **Ejemplos:** ESXi (VMware), Hyper-V, KVM (Kernel-based Virtual Machine).
*   Se instala *directamente* sobre el hardware. No hay Windows/Linux abajo.
*   **Uso:** Datacenters y Nubes p칰blicas. Es muy eficiente.

### Hipervisor Tipo 2 (Hosted)
*   **Ejemplos:** VirtualBox, VMware Workstation.
*   Se instala como una App sobre tu Windows/Mac.
*   **Uso:** Tu laptop para desarrollo. Es lento para producci칩n.

---

## Contenedores vs M치quinas Virtuales (La Batalla del Siglo)

쯇or qu칠 Docker se comi칩 al mundo?

| Caracter칤stica | M치quina Virtual (VM) | Contenedor (Docker) |
| :--- | :--- | :--- |
| **Peso** | GBs (Incluye OS completo) | MBs (Comparte Kernel del Host) |
| **Arranque** | Minutos (Boot del OS) | Milisegundos (Es un proceso) |
| **Aislamiento** | Fuerte (Hardware virtual) | D칠bil (Namespaces de Linux) |
| **Portabilidad** | Media (Formatos vmdk, vdi) | Total (Corre igual en mi laptop y AWS) |

*   **Veredicto:** Usa **Contenedores** para Aplicaciones. Usa **VMs** si necesitas aislar hosts completos o ejecutar kernels diferentes (FreeBSD sobre Linux).

---

## Infrastructure as Code (IaC)

Antes: Click derecho -> Crear Servidor.
Ahora: Escribes c칩digo.

**Terraform (HCL):**
```hcl
resource "aws_instance" "web" {
  ami           = "ami-12345678"
  instance_type = "t2.micro"
}
```
*   **Versionable:** Gu치rdalo en Git.
*   **Reproducible:** Si borras producci칩n, corres `terraform apply` y se reconstruye en 10 minutos.
*   **Auditable:** Sabes qui칠n cambi칩 qu칠 y cu치ndo.

---

---

## Garant칤as de Servicio (SRE Jargon)

Cuando el sitio se cae, 쯤ui칠n paga?

### SLI (Indicator), SLO (Objective), SLA (Agreement)
*   **SLI (El Term칩metro):** "La latencia actual es 50ms". Es lo que mides.
*   **SLO (La Meta interna):** "Queremos que el 99% de las peticiones sean <100ms". Si no llegamos, dejamos de lanzar features y arreglamos bugs.
*   **SLA (La Promesa legal):** "Si estamos ca칤dos >10 horas al a침o, te devolvemos el 30% de tu dinero". Es un contrato con abogados.

---

## Disaster Recovery (DR) - Plan de Cat치strofes

Si un meteorito destruye el datacenter de us-east-1 (Virginia).

1.  **Backup & Restore:** Tienes copias fr칤as en S3. Tardas 2 d칤as en levantar todo. (Barato, lento).
2.  **Pilot Light:** Tienes la DB replicada pero los servers apagados. Los prendes solo si hay emergencia. (Costo medio, RTO ~1 hora).
3.  **Warm Standby:** Tienes una copia peque침a de producci칩n corriendo siempre. Escala si la principal muere. (RTO ~minutos).
4.  **Multi-cloud Active/Active:** Tienes todo corriendo en AWS y Azure a la vez. Tr치fico 50/50. (Car칤simo, RTO 0).

### RTO vs RPO
*   **RTO (Recovery Time Objective):** 쮺u치nto tiempo podemos estar ca칤dos? (Ej. 1 hora).
*   **RPO (Recovery Point Objective):** 쮺u치ntos datos podemos perder? (Ej. 5 minutos de transacciones).

---

## Chaos Engineering (La ant칤tesis de la estabilidad)

La nube es ca칩tica. Los discos fallan, las redes se cortan.
**Chaos Monkey (Netflix):** Un script que mata servidores aleatoriamente en producci칩n.
*   **Filosof칤a:** Si te duele cuando falla, haz que falle seguido para que te obligues a automatizar la recuperaci칩n.

---

---

## Cloud Adoption Framework (CAF)

Migrar no es solo tecnolog칤a. Es gente y procesos.
AWS define 6 perspectivas:

1.  **Negocios:** 쯇or qu칠 migramos? (ROI, Agilidad, Nuevos mercados).
2.  **Personas:** 쮼l equipo sabe Cloud? (Entrenamiento, cambio cultural).
3.  **Gobernanza:** 쯈ui칠n tiene permiso de crear servidores? (Control de costos y riesgos).
4.  **Plataforma:** Dise침o de la arquitectura base (Landing Zone).
5.  **Seguridad:** Identity management, detective controls.
6.  **Operaciones:** Monitoreo, observabilidad y gesti칩n de incidentes.

---

## Well-Architected Framework (Los 6 Pilares)
Gu칤a de Dise침o de AWS/Azure para saber si tu arquitectura es buena.

1.  **Excelencia Operacional:** Automatizar cambios, responder a eventos.
2.  **Seguridad:** Proteger datos y sistemas (Zero Trust).
3.  **Fiabilidad (Reliability):** Recuperarse de fallas (Self-healing).
4.  **Eficiencia de Rendimiento:** Usar recursos eficientemente (Serverless).
5.  **Optimizaci칩n de Costos:** Pagar solo lo necesario (FinOps).
6.  **Sostenibilidad:** Minimizar el impacto ambiental del hardware.

---

## Tendencias Futuras

La nube no ha terminado de evolucionar.

### Quantum Computing as a Service (QCaaS)
Amazon Braket, Azure Quantum.
Acceso a computadoras cu치nticas reales por hora. 칔til para criptograf칤a y simulaci칩n molecular.

### Sovereign Cloud (Nube Soberana)
Europa (GAIA-X) exige que los datos NUNCA salgan de la UE y no sean accesibles por leyes extranjeras (FISA de USA).
Las nubes p칰blicas est치n creando regiones "soberanas" operadas por empresas locales (T-Systems en Alemania).

### AI-First Cloud
La infraestructura se optimiza para IA.
GPUs H100 disponibles por segundo. Networking de 800 Gbps para entrenar modelos LLM masivos.

---

---

## La Batalla de los Gigantes (AWS vs Azure vs GCP)

No hay "mejor nube". Depende de tu contexto.

### AWS (Amazon Web Services)
*   **Perfil:** El l칤der indiscutible. Tiene M츼S servicios que nadie.
*   **Ventaja:** Madurez, documentaci칩n infinita, comunidad masiva.
*   **Ideal para:** Startups, Empresas Web, cualquiera que quiera el est치ndar.

### Microsoft Azure
*   **Perfil:** El favorito de las corporaciones (Fortune 500).
*   **Ventaja:** Integraci칩n nativa con Active Directory, Office 365 y Windows Server.
*   **Ideal para:** Bancos, Gobierno, Empresas con stack Microsoft fuerte.

### Google Cloud Platform (GCP)
*   **Perfil:** El innovador t칠cnico.
*   **Ventaja:** Kubernetes (GKE es el mejor), Data Analytics (BigQuery es magia), AI/ML (TPUs).
*   **Ideal para:** Big Data, Machine Learning, Contenedores.

---

## Riesgos de la Migraci칩n (Lo que nadie te dice)

1.  **Data Gravity:** Mover 1 Petabyte a la nube es f치cil (AWS Snowball). Sacarlo es car칤simo (Egress Fees). Los datos tienen "gravedad", atraen aplicaciones.
2.  **Skill Gap:** Tus SysAdmins de Linux saben `ssh`. No saben `IAM Roles` ni `Terraform`. Necesitas re-entrenamiento masivo.
3.  **Shadow IT:** Como es f치cil crear servidores, el departamento de Marketing crea su propia DB sin avisar a IT -> Brecha de seguridad segura.

---

## Ruta de Carrera (Certificaciones Recomendadas)

쯈uieres trabajar en esto? Sigue este camino:

1.  **Fundamentos (Nivel Jr):**
    *   AWS Cloud Practitioner.
    *   Azure Fundamentals (AZ-900).
    *   *Objetivo:* Entender el vocabulario (Qu칠 es una Regi칩n, qu칠 es S3).

2.  **Asociado (Nivel Mid):**
    *   AWS Solutions Architect Associate (SAA). **(El est치ndar de oro).**
    *   Azure Administrator (AZ-104).
    *   *Objetivo:* Dise침ar arquitecturas b치sicas (VPC, EC2, RDS).

3.  **Profesional (Nivel Sr):**
    *   AWS Solutions Architect Professional.
    *   Google Professional Cloud Architect.
    *   *Objetivo:* Migraciones complejas, h칤bridas y multi-regi칩n.

4.  **Especialidades:**
    *   AWS Security Specialty.
    *   AWS Machine Learning.
    *   Certified Kubernetes Administrator (CKA).

---

<div align="center">

[拘勇 Anterior: Unidad 4](../unidad4/README.md) &nbsp;&nbsp;|&nbsp;&nbsp; [Siguiente: 5.2 Tipos de Servicios](5.2.md) 俱뫮잺

</div>
